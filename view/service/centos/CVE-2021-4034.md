# CVE-2021-4034

> polkit pkexec 本地提权漏洞（CVE-2021-4034）

## 漏洞描述

2022年1月25日 qualys安全研究人员披露 CVE-2021-4034 polkit pkexec 本地提权漏洞 漏洞细节，polkit pkexec 中对命令行参数处理有误，导致参数注入，能够导致本地提权。

## 解决建议

**CentOS 7的用户可通过yum update polkit升级修复（云安全中心Linux软件漏洞已支持检测修复），Centos 5、6、8官方已终止生命周期 (EOL)维护，建议停止使用；**

1、无法升级软件修复包的，可使用以下命令删除pkexec的SUID-bit权限来规避漏洞风险：
chmod 0755 /usr/bin/pkexec

示例：
```
# ll /usr/bin/pkexec
-rwsr-xr-x 1 root root  /usr/bin/pkexec
# chmod 0755 /usr/bin/pkexec
# ll /usr/bin/pkexec
-rwxr-xr-x 1 root root  /usr/bin/pkexec
```
执行前权限一般为-rwsr-xr-x ，删除SUID-bit权限后一般为-rwxr-xr-x

2、CentOS 7的用户可通过yum update polkit升级修复（云安全中心Linux软件漏洞已支持检测修复），Centos 5、6、8官方已终止生命周期 (EOL)维护，建议停止使用；

3、RedHat用户建议联系红帽官方获取安全修复源后执行yum update polkit升级修复（云安全中心Linux软件漏洞已支持检测修复）；

4、Alibaba Cloud Linux的用户可通过yum update polkit升级修复（云安全中心Linux软件漏洞已支持检测修复）；

5、Anolis OS（龙蜥）的用户可通过yum update polkit升级修复（云安全中心Linux软件漏洞已支持检测修复）；

6、Ubuntu 18.04 LTS、Ubuntu 20.04 LTS的用户可通过apt update policykit-1升级修复，Ubuntu 14.04、16.04、12.04官方已终止生命周期 (EOL)维护，修复需要额外付费购买Ubuntu ESM（扩展安全维护）服务，建议停止使用；

7、其他Linux发行版操作系统OS建议联系官方寻求软件包修复源。